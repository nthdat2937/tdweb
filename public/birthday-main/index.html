<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nhập Mật Khẩu</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%);
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    #particles-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }

    .container {
      position: relative;
      z-index: 10;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .content {
      background: rgba(255, 192, 203, 0.1);
      backdrop-filter: blur(15px);
      border: 2px solid rgba(255, 105, 180, 0.3);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      box-shadow: 
        0 8px 32px rgba(255, 105, 180, 0.2),
        inset 0 1px 0 rgba(255, 192, 203, 0.2);
      max-width: 400px;
      width: 100%;
    }

    .avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      margin-bottom: 30px;
      border: 3px solid rgba(255, 105, 180, 0.4);
      box-shadow: 0 0 30px rgba(255, 105, 180, 0.4);
      background: linear-gradient(45deg, #ff69b4 0%, #ff1493 100%);
      object-fit: cover;
    }

    h1 {
      color: #ffffff;
      margin-bottom: 25px;
      font-size: 1.4em;
      text-shadow: 0 0 15px rgba(255, 105, 180, 0.6);
      letter-spacing: 1px;
    }

    #password {
      width: 100%;
      padding: 15px;
      margin-bottom: 25px;
      border: 2px solid rgba(255, 105, 180, 0.3);
      border-radius: 10px;
      background: rgba(255, 192, 203, 0.1);
      color: #ffffff;
      font-size: 18px;
      text-align: center;
      letter-spacing: 3px;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    #password:focus {
      outline: none;
      border-color: rgba(255, 105, 180, 0.6);
      box-shadow: 0 0 20px rgba(255, 105, 180, 0.4);
    }

    .keypad {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 25px;
    }

    .keypad button {
      width: 60px;
      height: 60px;
      border: 2px solid rgba(255, 105, 180, 0.4);
      border-radius: 15px;
      background: rgba(255, 192, 203, 0.1);
      color: #ffffff;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .keypad button:hover {
      background: rgba(255, 105, 180, 0.25);
      border-color: rgba(255, 105, 180, 0.6);
      box-shadow: 0 0 20px rgba(255, 105, 180, 0.4);
      transform: translateY(-2px);
    }

    .keypad button:active {
      transform: translateY(0px);
    }

    .keypad button.zero {
      grid-column: span 2;
      width: 100%;
    }

    .keypad button.clear {
      background: rgba(255, 100, 100, 0.2);
      border-color: rgba(255, 100, 100, 0.3);
    }

    .keypad button.clear:hover {
      background: rgba(255, 100, 100, 0.3);
      border-color: rgba(255, 100, 100, 0.5);
      box-shadow: 0 0 20px rgba(255, 100, 100, 0.3);
    }

    .submit {
      width: 100%;
      padding: 15px;
      border: 2px solid rgba(255, 105, 180, 0.4);
      border-radius: 12px;
      background: rgba(255, 105, 180, 0.15);
      color: #ffffff;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .submit:hover {
      background: rgba(255, 105, 180, 0.25);
      border-color: rgba(255, 105, 180, 0.6);
      box-shadow: 0 0 25px rgba(255, 105, 180, 0.5);
      transform: translateY(-2px);
    }

    .submit:active {
      transform: translateY(0px);
    }

    /* Responsive */
    @media (max-width: 480px) {
      .content {
        padding: 30px 20px;
      }
      
      .keypad button {
        width: 50px;
        height: 50px;
        font-size: 18px;
      }
      
      h1 {
        font-size: 1.2em;
      }
    }
  </style>
</head>
<body>
  <canvas id="particles-canvas"></canvas>
  
  <div class="container">
    <div class="content">
      <img src="https://thumbs.dreamstime.com/b/cute-bunny-running-to-catch-butterflies-magical-forest-surrounded-blooming-flowers-cartoon-rabbit-animal-art-cute-345359832.jpg" alt="Avatar" class="avatar" />
      <div class="password-section">
        <h1>NHẬP PASS ĐI NGƯỜI ĐẸP</h1>
        <input type="text" id="password" placeholder="Enter password" readonly />
        <div class="keypad">
          <button onclick="addNumber('1')">1</button>
          <button onclick="addNumber('2')">2</button>
          <button onclick="addNumber('3')">3</button>
          <button onclick="addNumber('4')">4</button>
          <button onclick="addNumber('5')">5</button>
          <button onclick="addNumber('6')">6</button>
          <button onclick="addNumber('7')">7</button>
          <button onclick="addNumber('8')">8</button>
          <button onclick="addNumber('9')">9</button>
          <button onclick="addNumber('0')" class="zero">0</button>
          <button onclick="clearPassword()" class="clear">✖</button>
        </div>
        <button onclick="checkPassword()" class="submit">✔</button>
      </div>
    </div>
  </div>

  <script>
    // Star particle system
    class Star {
      constructor(canvas, x = null, y = null) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.x = x || Math.random() * canvas.width;
        this.y = y || Math.random() * canvas.height;
        this.reset();
        this.life = Math.random() * 200 + 200;
        this.maxLife = this.life;
        this.isExploding = false;
        this.explosionTime = 0;
        this.trail = [];
        this.maxTrailLength = 8;
      }

      reset() {
        this.vx = (Math.random() - 0.5) * 0.8;
        this.vy = (Math.random() - 0.5) * 0.8;
        this.size = Math.random() * 4 + 2;
        this.color = this.getRandomStarColor();
        this.originalSize = this.size;
        this.pulsateSpeed = Math.random() * 0.03 + 0.01;
        this.pulsateOffset = Math.random() * Math.PI * 2;
        this.rotation = Math.random() * Math.PI * 2;
        this.rotationSpeed = (Math.random() - 0.5) * 0.02;
        this.brightness = Math.random() * 0.5 + 0.5;
        this.type = Math.random() > 0.8 ? 'supernova' : 'normal';
      }

      getRandomStarColor() {
        const colors = [
          { core: 'rgba(255, 255, 200, 0.9)', glow: 'rgba(255, 255, 150, 0.3)' }, // Yellow star
          { core: 'rgba(200, 220, 255, 0.9)', glow: 'rgba(150, 180, 255, 0.3)' }, // Blue star
          { core: 'rgba(255, 200, 200, 0.9)', glow: 'rgba(255, 150, 150, 0.3)' }, // Red star
          { core: 'rgba(255, 220, 255, 0.9)', glow: 'rgba(255, 180, 255, 0.3)' }, // Purple star
          { core: 'rgba(200, 255, 220, 0.9)', glow: 'rgba(150, 255, 180, 0.3)' }, // Green star
          { core: 'rgba(255, 255, 255, 1.0)', glow: 'rgba(200, 200, 255, 0.4)' }   // White star
        ];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      update() {
        // Update trail
        this.trail.push({ x: this.x, y: this.y, size: this.size * 0.3 });
        if (this.trail.length > this.maxTrailLength) {
          this.trail.shift();
        }

        this.x += this.vx;
        this.y += this.vy;
        this.rotation += this.rotationSpeed;
        
        // Enhanced pulsating effect
        const pulse = Math.sin(Date.now() * this.pulsateSpeed + this.pulsateOffset);
        this.size = this.originalSize + pulse * 0.8;
        this.brightness = 0.5 + Math.abs(pulse) * 0.5;
        
        // Explosion effect
        if (this.isExploding) {
          this.explosionTime++;
          this.size = this.originalSize * (1 + this.explosionTime * 0.1);
          this.brightness = Math.max(0, 1 - this.explosionTime * 0.05);
          
          if (this.explosionTime > 20) {
            this.isExploding = false;
            this.explosionTime = 0;
            this.reset();
          }
        }
        
        this.life--;

        // Wrap around edges
        if (this.x < -50) this.x = this.canvas.width + 50;
        if (this.x > this.canvas.width + 50) this.x = -50;
        if (this.y < -50) this.y = this.canvas.height + 50;
        if (this.y > this.canvas.height + 50) this.y = -50;

        // Reset if life ended
        if (this.life <= 0 && !this.isExploding) {
          this.reset();
          this.life = this.maxLife;
          this.x = Math.random() * this.canvas.width;
          this.y = Math.random() * this.canvas.height;
        }
      }

      drawStar(x, y, size, rotation) {
        this.ctx.save();
        this.ctx.translate(x, y);
        this.ctx.rotate(rotation);
        
        // Draw star shape
        this.ctx.beginPath();
        for (let i = 0; i < 5; i++) {
          const angle = (i * 4 * Math.PI) / 5;
          const outerRadius = size;
          const innerRadius = size * 0.5;
          
          if (i === 0) {
            this.ctx.moveTo(Math.cos(angle) * outerRadius, Math.sin(angle) * outerRadius);
          } else {
            this.ctx.lineTo(Math.cos(angle) * outerRadius, Math.sin(angle) * outerRadius);
          }
          
          const innerAngle = ((i + 0.5) * 4 * Math.PI) / 5;
          this.ctx.lineTo(Math.cos(innerAngle) * innerRadius, Math.sin(innerAngle) * innerRadius);
        }
        this.ctx.closePath();
        
        this.ctx.restore();
      }

      draw() {
        this.ctx.save();
        
        // Draw trail
        this.trail.forEach((point, index) => {
          const opacity = (index / this.trail.length) * 0.3;
          this.ctx.shadowBlur = 10;
          this.ctx.shadowColor = this.color.glow;
          this.ctx.beginPath();
          this.ctx.arc(point.x, point.y, point.size, 0, Math.PI * 2);
          this.ctx.fillStyle = this.color.core.replace(/0\.\d+/, opacity);
          this.ctx.fill();
        });
        
        // Main star glow
        this.ctx.shadowBlur = this.isExploding ? 50 : 25;
        this.ctx.shadowColor = this.color.glow;
        
        // Outer glow
        this.ctx.beginPath();
        this.ctx.arc(this.x, this.y, this.size * 1.5, 0, Math.PI * 2);
        this.ctx.fillStyle = this.color.glow;
        this.ctx.fill();
        
        // Star body
        this.drawStar(this.x, this.y, this.size, this.rotation);
        this.ctx.fillStyle = this.color.core.replace(/0\.\d+/, this.brightness);
        this.ctx.fill();
        
        // Inner bright core
        this.ctx.shadowBlur = 5;
        this.ctx.beginPath();
        this.ctx.arc(this.x, this.y, this.size * 0.3, 0, Math.PI * 2);
        this.ctx.fillStyle = `rgba(255, 255, 255, ${this.brightness})`;
        this.ctx.fill();
        
        // Special effects for supernova stars
        if (this.type === 'supernova' && !this.isExploding) {
          this.ctx.shadowBlur = 40;
          this.ctx.shadowColor = 'rgba(255, 255, 255, 0.8)';
          this.ctx.beginPath();
          this.ctx.arc(this.x, this.y, this.size * 2, 0, Math.PI * 2);
          this.ctx.fillStyle = 'rgba(255, 255, 255, 0.1)';
          this.ctx.fill();
        }
        
        this.ctx.restore();
      }

      // Enhanced interactions
      attract(mouseX, mouseY) {
        const dx = mouseX - this.x;
        const dy = mouseY - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance < 120) {
          const force = (120 - distance) / 120;
          this.vx += dx * force * 0.0002;
          this.vy += dy * force * 0.0002;
          this.size = this.originalSize * (1 + force * 0.5);
          this.brightness = Math.min(1, this.brightness + force * 0.3);
          this.rotationSpeed += force * 0.01;
        }
      }

      explode(mouseX, mouseY) {
        const dx = mouseX - this.x;
        const dy = mouseY - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        if (distance < 60) {
          if (!this.isExploding) {
            this.isExploding = true;
            this.explosionTime = 0;
            // Create explosion particles
            return this.createExplosionParticles();
          }
        }
        
        if (distance < 100) {
          const force = (100 - distance) / 100;
          this.vx -= dx * force * 0.002;
          this.vy -= dy * force * 0.002;
        }
        
        return [];
      }

      createExplosionParticles() {
        const particles = [];
        for (let i = 0; i < 8; i++) {
          const angle = (i / 8) * Math.PI * 2;
          const speed = Math.random() * 3 + 2;
          particles.push({
            x: this.x,
            y: this.y,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            size: Math.random() * 2 + 1,
            life: 30,
            color: this.color.core
          });
        }
        return particles;
      }
    }

    class ParticleSystem {
      constructor() {
        this.canvas = document.getElementById('particles-canvas');
        this.ctx = this.canvas.getContext('2d');
        this.stars = [];
        this.explosionParticles = [];
        this.lightBeams = [];
        this.mouse = { x: 0, y: 0, down: false, rightClick: false };
        this.lastMouseMove = 0;
        this.starCreationCooldown = 0;
        
        this.resize();
        this.init();
        this.bindEvents();
        this.animate();
      }

      resize() {
        this.canvas.width = window.innerWidth;
        this.canvas.height = window.innerHeight;
      }

      init() {
        // Create fewer but more impressive stars
        const starCount = Math.floor((this.canvas.width * this.canvas.height) / 15000) + 10;
        for (let i = 0; i < starCount; i++) {
          this.stars.push(new Star(this.canvas));
        }
      }

      bindEvents() {
        window.addEventListener('resize', () => {
          this.resize();
          this.stars = [];
          this.init();
        });

        this.canvas.addEventListener('mousemove', (e) => {
          this.mouse.x = e.clientX;
          this.mouse.y = e.clientY;
          this.lastMouseMove = Date.now();
          this.createLightBeam(e.clientX, e.clientY);
        });

        this.canvas.addEventListener('mousedown', (e) => {
          if (e.button === 0) { // Left click
            this.mouse.down = true;
          } else if (e.button === 2) { // Right click
            this.mouse.rightClick = true;
            e.preventDefault();
          }
        });

        this.canvas.addEventListener('mouseup', (e) => {
          if (e.button === 0) {
            this.mouse.down = false;
          } else if (e.button === 2) {
            this.mouse.rightClick = false;
          }
        });

        this.canvas.addEventListener('contextmenu', (e) => {
          e.preventDefault();
        });

        this.canvas.addEventListener('dblclick', (e) => {
          this.createNewStar(e.clientX, e.clientY);
        });

        // Touch events for mobile
        this.canvas.addEventListener('touchmove', (e) => {
          e.preventDefault();
          this.mouse.x = e.touches[0].clientX;
          this.mouse.y = e.touches[0].clientY;
          this.lastMouseMove = Date.now();
          this.createLightBeam(e.touches[0].clientX, e.touches[0].clientY);
        });

        this.canvas.addEventListener('touchstart', (e) => {
          e.preventDefault();
          this.mouse.down = true;
          this.mouse.x = e.touches[0].clientX;
          this.mouse.y = e.touches[0].clientY;
        });

        this.canvas.addEventListener('touchend', (e) => {
          e.preventDefault();
          this.mouse.down = false;
        });

        // Keyboard interactions
        document.addEventListener('keydown', (e) => {
          if (e.code === 'Space') {
            e.preventDefault();
            this.createStarBurst(this.mouse.x, this.mouse.y);
          }
          if (e.code === 'KeyC') {
            this.createNewStar(this.mouse.x, this.mouse.y);
          }
        });
      }

      createLightBeam(x, y) {
        // Create light beam following mouse
        if (Math.random() > 0.7) {
          this.lightBeams.push({
            startX: x + (Math.random() - 0.5) * 100,
            startY: y + (Math.random() - 0.5) * 100,
            endX: x,
            endY: y,
            life: 15,
            maxLife: 15,
            color: `rgba(${100 + Math.random() * 155}, ${150 + Math.random() * 105}, 255, 0.3)`
          });
        }
      }

      createNewStar(x, y) {
        if (this.starCreationCooldown <= 0) {
          const newStar = new Star(this.canvas, x, y);
          newStar.size = Math.random() * 6 + 4; // Larger new stars
          newStar.originalSize = newStar.size;
          newStar.type = Math.random() > 0.5 ? 'supernova' : 'normal';
          this.stars.push(newStar);
          this.starCreationCooldown = 20; // Cooldown to prevent spam
          
          // Create birth effect
          this.createStarBurst(x, y);
        }
      }

      createStarBurst(x, y) {
        // Create a burst of particles around a point
        for (let i = 0; i < 12; i++) {
          const angle = (i / 12) * Math.PI * 2;
          const speed = Math.random() * 4 + 2;
          this.explosionParticles.push({
            x: x,
            y: y,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            size: Math.random() * 3 + 2,
            life: 40,
            maxLife: 40,
            color: `rgba(255, ${200 + Math.random() * 55}, ${100 + Math.random() * 155}, 0.8)`
          });
        }
      }

      drawLightBeams() {
        this.ctx.save();
        this.lightBeams.forEach((beam, index) => {
          const opacity = beam.life / beam.maxLife;
          this.ctx.strokeStyle = beam.color.replace(/0\.\d+/, opacity * 0.5);
          this.ctx.lineWidth = 2;
          this.ctx.shadowBlur = 10;
          this.ctx.shadowColor = beam.color;
          
          this.ctx.beginPath();
          this.ctx.moveTo(beam.startX, beam.startY);
          this.ctx.lineTo(beam.endX, beam.endY);
          this.ctx.stroke();
          
          beam.life--;
          if (beam.life <= 0) {
            this.lightBeams.splice(index, 1);
          }
        });
        this.ctx.restore();
      }

      drawExplosionParticles() {
        this.ctx.save();
        this.explosionParticles.forEach((particle, index) => {
          particle.x += particle.vx;
          particle.y += particle.vy;
          particle.vx *= 0.98; // Slow down over time
          particle.vy *= 0.98;
          particle.size *= 0.99; // Shrink
          
          const opacity = particle.life / particle.maxLife;
          this.ctx.shadowBlur = 15;
          this.ctx.shadowColor = particle.color;
          
          this.ctx.beginPath();
          this.ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
          this.ctx.fillStyle = particle.color.replace(/0\.\d+/, opacity);
          this.ctx.fill();
          
          particle.life--;
          if (particle.life <= 0) {
            this.explosionParticles.splice(index, 1);
          }
        });
        this.ctx.restore();
      }

      drawStarConnections() {
        this.ctx.save();
        for (let i = 0; i < this.stars.length; i++) {
          for (let j = i + 1; j < this.stars.length; j++) {
            const dx = this.stars[i].x - this.stars[j].x;
            const dy = this.stars[i].y - this.stars[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 150) {
              const opacity = (150 - distance) / 150 * 0.15;
              this.ctx.strokeStyle = `rgba(200, 200, 255, ${opacity})`;
              this.ctx.lineWidth = 1;
              this.ctx.shadowBlur = 3;
              this.ctx.shadowColor = `rgba(200, 200, 255, ${opacity})`;
              
              this.ctx.beginPath();
              this.ctx.moveTo(this.stars[i].x, this.stars[i].y);
              this.ctx.lineTo(this.stars[j].x, this.stars[j].y);
              this.ctx.stroke();
            }
          }
        }
        this.ctx.restore();
      }

      animate() {
        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

        // Update cooldowns
        if (this.starCreationCooldown > 0) this.starCreationCooldown--;

        // Update and draw stars
        this.stars.forEach(star => {
          if (this.mouse.down) {
            // Explosion mode - stars explode when clicked
            const newParticles = star.explode(this.mouse.x, this.mouse.y);
            this.explosionParticles.push(...newParticles);
          } else {
            // Attraction mode - stars are attracted to mouse
            star.attract(this.mouse.x, this.mouse.y);
          }
          star.update();
          star.draw();
        });

        // Draw connections between stars
        this.drawStarConnections();

        // Draw light beams
        this.drawLightBeams();

        // Draw explosion particles
        this.drawExplosionParticles();

        // Draw mouse cursor effect
        if (Date.now() - this.lastMouseMove < 100) {
          this.ctx.save();
          this.ctx.shadowBlur = 20;
          this.ctx.shadowColor = 'rgba(255, 255, 255, 0.5)';
          this.ctx.beginPath();
          this.ctx.arc(this.mouse.x, this.mouse.y, 5, 0, Math.PI * 2);
          this.ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
          this.ctx.fill();
          this.ctx.restore();
        }

        requestAnimationFrame(() => this.animate());
      }
    }

    // Initialize star system
    const particleSystem = new ParticleSystem();

    // Password functionality
    let password = '';

    function addNumber(num) {
      if (password.length < 10) {
        password += num;
        document.getElementById('password').value = '*'.repeat(password.length);
      }
    }

    function clearPassword() {
      password = '';
      document.getElementById('password').value = '';
    }

    function checkPassword() {
      if (password === '123456') {
        alert('Đúng mật khẩu! 🎉');
        window.location.href = "/birthday-main/index2.html";
      } else if (password.length > 0) {
        alert('Sai mật khẩu! Thử lại đi! 😊');
        clearPassword();
      } else {
        alert('Vui lòng nhập mật khẩu!');
      }
    }

    // Add some sparkle effect when clicking buttons
    document.querySelectorAll('button').forEach(button => {
      button.addEventListener('click', function(e) {
        // Create ripple effect
        const ripple = document.createElement('span');
        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        ripple.style.position = 'absolute';
        ripple.style.width = ripple.style.height = size + 'px';
        ripple.style.left = x + 'px';
        ripple.style.top = y + 'px';
        ripple.style.background = 'rgba(255, 255, 255, 0.3)';
        ripple.style.borderRadius = '50%';
        ripple.style.transform = 'scale(0)';
        ripple.style.animation = 'ripple 0.6s ease-out';
        ripple.style.pointerEvents = 'none';
        
        this.appendChild(ripple);
        
        setTimeout(() => {
          ripple.remove();
        }, 600);
      });
    });

    // Add ripple animation CSS
    const style = document.createElement('style');
    style.textContent = `
      @keyframes ripple {
        to {
          transform: scale(2);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>