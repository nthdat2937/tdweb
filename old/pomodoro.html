<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pomodoro | TD Web</title>
    <link
      rel="icon"
      href="https://cdn.glitch.global/f61a2915-cde6-4e38-b016-504cda6e4656/2025_03_26_04h_Kleki-removebg-preview.png?v=1742993178317"
    />
    <link rel="stylesheet" href="style/chung.css">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        min-height: 100vh;
        margin: 0;
        background: #f0f2f5;
        color: #2d3436;
        display: flex;
        justify-content: center;
        align-items: center;
        background-image: radial-gradient(
            circle at 20% 20%,
            rgba(62, 184, 178, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(99, 110, 246, 0.1) 0%,
            transparent 50%
          );
      }

      .container {
        text-align: center;
        background: rgba(255, 255, 255, 0.95);
        padding: 3rem;
        border-radius: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1),
          0 0 0 1px rgba(0, 0, 0, 0.05);
        backdrop-filter: blur(10px);
        max-width: 90%;
        width: 450px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .container:hover {
        transform: translateY(-5px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15),
          0 0 0 1px rgba(0, 0, 0, 0.05);
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        color: #1a1a1a;
        font-weight: 700;
        background: linear-gradient(120deg, #3498db, #2ecc71);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        letter-spacing: -1px;
      }

      .timer {
        font-size: 6rem;
        margin: 1.5rem 0;
        font-weight: bold;
        color: #1a1a1a;
        font-family: "Monaco", monospace;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        letter-spacing: 2px;
      }

      .time-presets {
        display: flex;
        gap: 0.8rem;
        justify-content: center;
        margin: 1.5rem 0;
        flex-wrap: wrap;
      }

      .time-presets button {
        font-size: 1rem;
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: #f8f9fa;
        color: #1a1a1a;
        font-weight: 500;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05);
      }

      .time-presets button:hover {
        transform: translateY(-2px);
        background: #f1f3f5;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.05);
      }

      .time-presets button.active {
        background: linear-gradient(120deg, #3498db, #2ecc71);
        color: white;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
      }

      .controls {
        display: flex;
        gap: 1.2rem;
        justify-content: center;
        margin: 2rem 0;
      }

      .controls button {
        font-size: 1.1rem;
        padding: 1rem 2.5rem;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        font-weight: 600;
        letter-spacing: 1px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      #startBtn {
        background: linear-gradient(120deg, #3498db, #2ecc71);
        color: white;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
      }

      #resetBtn {
        background: linear-gradient(120deg, #e74c3c, #c0392b);
        color: white;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
      }

      .controls button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
      }

      .controls button:active {
        transform: translateY(1px);
      }

      #completedCount {
        font-size: 1.1rem;
        margin-top: 1.5rem;
        color: #666;
        padding: 1.2rem;
        border-radius: 15px;
        background: linear-gradient(
          120deg,
          rgba(52, 152, 219, 0.1),
          rgba(46, 204, 113, 0.1)
        );
        display: inline-block;
        font-weight: 500;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.02);
        }
        100% {
          transform: scale(1);
        }
      }

      .timer.running {
        animation: pulse 2s infinite;
        background: linear-gradient(120deg, #3498db, #2ecc71);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .notification {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(120deg, #3498db, #2ecc71);
        color: white;
        padding: 1rem 2.5rem;
        border-radius: 20px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15),
          0 0 0 1px rgba(255, 255, 255, 0.1);
        z-index: 1000;
        font-weight: 500;
        animation: slideIn 0.5s ease-out;
        backdrop-filter: blur(10px);
      }

      @keyframes slideIn {
        from {
          transform: translate(-50%, -100px);
          opacity: 0;
        }
        to {
          transform: translate(-50%, 0);
          opacity: 1;
        }
      }

      @keyframes slideOut {
        from {
          transform: translate(-50%, 0);
          opacity: 1;
        }
        to {
          transform: translate(-50%, -100px);
          opacity: 0;
        }
      }

      @media (max-width: 600px) {
        .container {
          padding: 2rem;
          margin: 1rem;
        }

        .timer {
          font-size: 4rem;
        }

        .controls button {
          padding: 0.8rem 1.8rem;
          font-size: 1rem;
        }

        .time-presets button {
          padding: 0.6rem 1.2rem;
          font-size: 0.9rem;
        }

        h1 {
          font-size: 2rem;
        }
      }
      #taskInputContainer {
        margin: 1.5rem 0;
      }

      #taskInput {
        width: 100%;
        padding: 1rem 1.5rem;
        font-size: 1rem;
        border: none;
        border-radius: 15px;
        background: #f8f9fa;
        color: #1a1a1a;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.05);
      }

      #taskInput:focus {
        outline: none;
        background: white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1),
          0 0 0 2px rgba(52, 152, 219, 0.3);
        transform: translateY(-2px);
      }

      #taskInput::placeholder {
        color: #95a5a6;
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="return-btn">← Quay lại</a>
    <div class="container">
      <h1>Pomodoro Timer</h1>
      <div id="taskInputContainer">
        <input type="text" id="taskInput" placeholder="Nhập việc đang làm..." />
      </div>
      <div class="time-presets">
        <button class="time-preset" data-minutes="5">5 phút</button>
        <button class="time-preset" data-minutes="10">10 phút</button>
        <button class="time-preset" data-minutes="15">15 phút</button>
        <button class="time-preset active" data-minutes="30">30 phút</button>
        <button class="time-preset" data-minutes="45">45 phút</button>
        <button class="time-preset" data-minutes="60">60 phút</button>
      </div>
      <div class="timer" id="timer">30:00</div>
      <div class="controls">
        <button id="startBtn">Bắt đầu</button>
        <button id="resetBtn">Đặt lại</button>
      </div>
      <div id="completedCount">Số phiên đã hoàn thành: 0</div>
    </div>

    <script>
      const timerDisplay = document.getElementById("timer");
      const startBtn = document.getElementById("startBtn");
      const resetBtn = document.getElementById("resetBtn");
      const completedCountDisplay = document.getElementById("completedCount");
      const timePresets = document.querySelectorAll(".time-preset");
      const taskInput = document.getElementById("taskInput");

      let timeLeft = 30 * 60;
      let defaultTime = 30 * 60;
      let timerId = null;
      let isRunning = false;
      let completedCount = 0;

      function updateDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timerDisplay.textContent = `${minutes
          .toString()
          .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
      }

      function setActivePreset(minutes) {
        timePresets.forEach((preset) => {
          preset.classList.toggle(
            "active",
            preset.dataset.minutes === minutes.toString()
          );
        });
      }

      function setTime(minutes) {
        if (!isRunning) {
          timeLeft = minutes * 60;
          defaultTime = timeLeft;
          updateDisplay();
          setActivePreset(minutes);
        }
      }

      timePresets.forEach((preset) => {
        preset.addEventListener("click", () => {
          const minutes = parseInt(preset.dataset.minutes);
          if (!isRunning) {
            setTime(minutes);
            preset.style.animation = "pulse 0.3s ease";
            setTimeout(() => (preset.style.animation = ""), 300);
          }
        });
      });

      function startTimer() {
        if (!isRunning) {
          isRunning = true;
          startBtn.textContent = "Tạm dừng";
          timerDisplay.classList.add("running");
          timerId = setInterval(() => {
            timeLeft--;
            updateDisplay();
            if (timeLeft === 0) {
              completeSession();
            }
          }, 1000);
        } else {
          pauseTimer();
        }
      }

      function pauseTimer() {
        clearInterval(timerId);
        isRunning = false;
        startBtn.textContent = "Bắt đầu";
        timerDisplay.classList.remove("running");
      }

      function resetTimer() {
        clearInterval(timerId);
        isRunning = false;
        timeLeft = defaultTime;
        startBtn.textContent = "Bắt đầu";
        timerDisplay.classList.remove("running");
        updateDisplay();
      }

      function showNotification(message) {
        const notification = document.createElement("div");
        notification.className = "notification";
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = "slideOut 0.5s ease-in";
          setTimeout(() => notification.remove(), 500);
        }, 3000);
      }

      function completeSession() {
        clearInterval(timerId);
        isRunning = false;
        completedCount++;
        completedCountDisplay.textContent = `Số phiên đã hoàn thành: ${completedCount}`;
        timeLeft = defaultTime;
        startBtn.textContent = "Bắt đầu";
        timerDisplay.classList.remove("running");
        updateDisplay();
        showNotification("Phiên làm việc đã hoàn thành! 🎉");
      }

      startBtn.addEventListener("click", startTimer);
      resetBtn.addEventListener("click", resetTimer);

      document.addEventListener("keydown", (e) => {
        if (!taskInput.matches(":focus")) {
          if (e.code === "Space") {
            e.preventDefault();
            startTimer();
          } else if (e.code === "KeyR") {
            e.preventDefault();
            resetTimer();
          }
        }
      });

      updateDisplay();
    </script>
  </body>
</html>
