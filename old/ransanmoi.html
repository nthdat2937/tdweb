<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="https://cdn.glitch.global/f61a2915-cde6-4e38-b016-504cda6e4656/2025_03_26_04h_Kleki-removebg-preview.png?v=1742993178317"
    />
    <title>Snake Game by nthdat2937</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        background-color: #1a1a1a;
        font-family: "Arial", sans-serif;
        color: #fff;
      }

      .game-container {
        position: relative;
        margin: 20px;
      }

      canvas {
        border: 3px solid #4caf50;
        border-radius: 10px;
        background-color: #000;
        box-shadow: 0 0 20px rgba(76, 175, 80, 0.3);
      }

      .info-panel {
        display: flex;
        justify-content: space-between;
        width: 400px;
        margin-bottom: 20px;
      }

      .score,
      .high-score {
        font-size: 24px;
        color: #4caf50;
        text-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
      }

      .game-info {
        margin-top: 20px;
        text-align: center;
        color: #888;
        font-size: 16px;
        line-height: 1.5;
      }

      .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 10px;
      }

      .btn {
        padding: 12px 30px;
        font-size: 18px;
        cursor: pointer;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 25px;
        margin: 10px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .btn:hover {
        background-color: #45a049;
        transform: scale(1.05);
        box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
      }

      .game-title {
        font-size: 36px;
        color: #4caf50;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 2px;
        text-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
      }

      .controls {
        margin-top: 15px;
        font-size: 14px;
        color: #666;
      }
    </style>
  </head>
  <body>
    <div class="info-panel">
      <div class="score">Score: <span id="score">0</span></div>
      <div class="high-score">High Score: <span id="highScore">0</span></div>
    </div>
    <div class="game-container">
      <canvas id="gameCanvas" width="400" height="400"></canvas>
      <div id="startScreen" class="overlay">
        <h1 class="game-title">Snake Game</h1>
        <button id="startButton" class="btn">Start Game</button>
        <div class="controls">Use Arrow Keys to Control</div>
      </div>
    </div>
    <div class="game-info">
      Use arrow keys to control the snake<br />
      Collect food to grow longer and increase your score<br />
      Avoid walls and your own tail!
    </div>

    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");
      const scoreElement = document.getElementById("score");
      const highScoreElement = document.getElementById("highScore");
      const startScreen = document.getElementById("startScreen");
      const startButton = document.getElementById("startButton");

      const GRID_SIZE = 20;
      const TILE_COUNT = canvas.width / GRID_SIZE;
      const INITIAL_SPEED = 150;
      const MIN_SPEED = 70;
      const SPEED_DECREASE_RATE = 2;

      let snake = [];
      let food = {};
      let dx = 0;
      let dy = 0;
      let score = 0;
      let highScore = localStorage.getItem("snakeHighScore") || 0;
      let gameOver = false;
      let gameStarted = false;
      let gameSpeed = INITIAL_SPEED;
      let lastRenderTime = 0;

      highScoreElement.textContent = highScore;

      startButton.addEventListener("click", startGame);
      document.addEventListener("keydown", changeDirection);

      function startGame() {
        gameStarted = true;
        startScreen.style.display = "none";
        resetGame();
        gameLoop();
      }

      function gameLoop(currentTime) {
        if (!gameStarted) return;

        if (gameOver) {
          handleGameOver();
          return;
        }

        window.requestAnimationFrame(gameLoop);

        const secondsSinceLastRender = (currentTime - lastRenderTime) / 1000;
        if (secondsSinceLastRender < gameSpeed / 1000) return;

        lastRenderTime = currentTime;

        update();
        draw();
      }

      function update() {
        moveSnake();
        checkCollision();
        checkFood();
      }

      function draw() {
        clearCanvas();
        drawFood();
        drawSnake();
      }

      function clearCanvas() {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }

      function drawSnake() {
        snake.forEach((segment, index) => {
          const gradient = ctx.createLinearGradient(
            segment.x * GRID_SIZE,
            segment.y * GRID_SIZE,
            (segment.x + 1) * GRID_SIZE,
            (segment.y + 1) * GRID_SIZE
          );

          if (index === 0) {
            gradient.addColorStop(0, "#4CAF50");
            gradient.addColorStop(1, "#45a049");
          } else {
            gradient.addColorStop(0, "#66bb6a");
            gradient.addColorStop(1, "#4CAF50");
          }

          ctx.fillStyle = gradient;

          const radius = 8;
          const x = segment.x * GRID_SIZE;
          const y = segment.y * GRID_SIZE;
          const width = GRID_SIZE - 2;
          const height = GRID_SIZE - 2;

          ctx.beginPath();
          ctx.moveTo(x + radius, y);
          ctx.arcTo(x + width, y, x + width, y + height, radius);
          ctx.arcTo(x + width, y + height, x, y + height, radius);
          ctx.arcTo(x, y + height, x, y, radius);
          ctx.arcTo(x, y, x + width, y, radius);
          ctx.closePath();
          ctx.fill();

          if (index === 0) {
            drawSnakeEyes(x, y);
          }
        });
      }

      function drawSnakeEyes(x, y) {
        const eyeSize = 4;
        const pupilSize = 2;

        ctx.fillStyle = "white";
        let leftEyeX, leftEyeY, rightEyeX, rightEyeY;

        if (dx === 1) {
          leftEyeX = x + 12;
          leftEyeY = y + 4;
          rightEyeX = x + 12;
          rightEyeY = y + 12;
        } else if (dx === -1) {
          leftEyeX = x + 4;
          leftEyeY = y + 4;
          rightEyeX = x + 4;
          rightEyeY = y + 12;
        } else if (dy === -1) {
          leftEyeX = x + 4;
          leftEyeY = y + 4;
          rightEyeX = x + 12;
          rightEyeY = y + 4;
        } else {
          leftEyeX = x + 4;
          leftEyeY = y + 12;
          rightEyeX = x + 12;
          rightEyeY = y + 12;
        }

        ctx.fillRect(leftEyeX, leftEyeY, eyeSize, eyeSize);
        ctx.fillRect(rightEyeX, rightEyeY, eyeSize, eyeSize);

        ctx.fillStyle = "black";
        ctx.fillRect(leftEyeX + 1, leftEyeY + 1, pupilSize, pupilSize);
        ctx.fillRect(rightEyeX + 1, rightEyeY + 1, pupilSize, pupilSize);
      }

      function drawFood() {
        const x = food.x * GRID_SIZE + GRID_SIZE / 2;
        const y = food.y * GRID_SIZE + GRID_SIZE / 2;
        const radius = GRID_SIZE / 2 - 2;

        const gradient = ctx.createRadialGradient(x, y, 2, x, y, radius);
        gradient.addColorStop(0, "#ff6b6b");
        gradient.addColorStop(1, "#ff5252");

        ctx.beginPath();
        ctx.fillStyle = gradient;
        ctx.arc(x, y, radius, 0, Math.PI * 2);
        ctx.fill();

        ctx.beginPath();
        ctx.fillStyle = "rgba(255, 255, 255, 0.3)";
        ctx.arc(x - radius / 3, y - radius / 3, radius / 4, 0, Math.PI * 2);
        ctx.fill();
      }

      function moveSnake() {
        const head = { x: snake[0].x + dx, y: snake[0].y + dy };
        snake.unshift(head);

        if (!(head.x === food.x && head.y === food.y)) {
          snake.pop();
        }
      }

      function checkCollision() {
        const head = snake[0];

        if (
          head.x < 0 ||
          head.x >= TILE_COUNT ||
          head.y < 0 ||
          head.y >= TILE_COUNT
        ) {
          gameOver = true;
          return;
        }

        for (let i = 1; i < snake.length; i++) {
          if (head.x === snake[i].x && head.y === snake[i].y) {
            gameOver = true;
            return;
          }
        }
      }

      function checkFood() {
        const head = snake[0];
        if (head.x === food.x && head.y === food.y) {
          score += 10;
          scoreElement.textContent = score;
          if (score > highScore) {
            highScore = score;
            highScoreElement.textContent = highScore;
            localStorage.setItem("snakeHighScore", highScore);
          }
          generateFood();
          increaseSpeed();
        }
      }

      function generateFood() {
        let newFood;
        do {
          newFood = {
            x: Math.floor(Math.random() * (TILE_COUNT - 2)) + 1,
            y: Math.floor(Math.random() * (TILE_COUNT - 2)) + 1,
          };
        } while (
          snake.some(
            (segment) => segment.x === newFood.x && segment.y === newFood.y
          )
        );
        food = newFood;
      }

      function changeDirection(event) {
        if (!gameStarted) return;

        const LEFT_KEY = 37;
        const RIGHT_KEY = 39;
        const UP_KEY = 38;
        const DOWN_KEY = 40;

        const keyPressed = event.keyCode;
        const goingUp = dy === -1;
        const goingDown = dy === 1;
        const goingLeft = dx === -1;
        const goingRight = dx === 1;

        if (keyPressed === LEFT_KEY && !goingRight) {
          dx = -1;
          dy = 0;
        }
        if (keyPressed === RIGHT_KEY && !goingLeft) {
          dx = 1;
          dy = 0;
        }
        if (keyPressed === UP_KEY && !goingDown) {
          dx = 0;
          dy = -1;
        }
        if (keyPressed === DOWN_KEY && !goingUp) {
          dx = 0;
          dy = 1;
        }
      }

      function increaseSpeed() {
        if (gameSpeed > MIN_SPEED) {
          gameSpeed -= SPEED_DECREASE_RATE;
        }
      }

      function handleGameOver() {
        startScreen.style.display = "flex";
        startButton.textContent = "Play Again";
      }

      function resetGame() {
        snake = [
          { x: 5, y: 10 },
          { x: 4, y: 10 },
          { x: 3, y: 10 },
        ];
        generateFood();
        dx = 1;
        dy = 0;
        score = 0;
        scoreElement.textContent = score;
        gameSpeed = INITIAL_SPEED;
        gameOver = false;
        lastRenderTime = 0;
      }
    </script>
  </body>
</html>
